<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operations & Staff Strategy (Bureau of Efficiency)</title>

    <style>
        /* --- Interactive Panel Styles (No Change) --- */
        .interactive-layout {
            display: grid;
            grid-template-columns: 2fr 1fr; /* Cards on the left, detail pane on the right */
            gap: 1.5rem;
        }
        .detail-pane {
            background: var(--card-bg, #ffffff);
            border-radius: 12px;
            box-shadow: 0 8px 28px rgba(2,6,23,0.06);
            padding: 1.25rem;
            border-top: 5px solid var(--accent-color, #fbbf24);
            height: fit-content;
        }
        .card.active {
            border: 2px solid var(--primary-color, #064e3b);
            box-shadow: 0 8px 28px rgba(2,6,23,0.12);
        }
        .interactive-layout .card {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .interactive-layout .card:hover {
            transform: translateY(-3px);
            border-color: var(--primary-color, #064e3b);
        }
        @media (max-width: 900px) {
            .interactive-layout {
                grid-template-columns: 1fr; /* Stack on mobile */
            }
        }

        /* --- NEW: Tab Navigation Styles --- */
        .tab-bar {
            display: flex;
            border-bottom: 2px solid var(--border-color, #e5e7eb);
            margin-bottom: 1.5rem;
        }
        .tab-bar button {
            padding: 0.75rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-muted, #6b7280);
            border-bottom: 3px solid transparent;
            transform: translateY(2px); /* Aligns with the bottom border */
        }
        .tab-bar button:hover {
            color: var(--text-color, #1f2937);
        }
        .tab-bar button.active {
            color: var(--primary-color, #064e3b);
            border-bottom-color: var(--primary-color, #064e3b);
        }
        
        /* The tab-content class is used by JS, 'hidden' attribute does the work */
        .tab-content {
            padding-top: 1rem;
        }

    </style>
</head>
<body>

    <header class="hero">
        <div class="container">
            <h1>Operations Strategy (Bureau of Efficiency)</h1>
            <p class="lead">Execution is governed by the Producer archetype and the Dignified Delegation Mandate.</p>
        </div>
    </header>

    <main class="container">

        <h2 class="mt-6 mb-4">Operational Doctrine Panels</h2>
        <p class="mb-4">
            Select a panel to review the specific doctrines governing each operational wing. All doctrines are linked to the objective ACEM Score to ensure merit-based execution.
        </p>

        <div class="tab-bar">
            <button data-tab="core" class="active">Core Doctrines</button>
            <button data-tab="service">Service Model</button>
            <button data-tab="culinary">Culinary (Gourmet)</button>
        </div>

        <div class="tab-content" id="core">
            <div class="interactive-layout" id="core-layout">
                <div class="grid grid-2" id="core-card-container">
                    </div>
                <div class="detail-pane" id="core-detail-pane">
                    </div>
            </div>
        </div>

        <div class="tab-content" id="service" hidden>
            <div class="interactive-layout" id="service-layout">
                <div class="grid grid-2" id="service-card-container">
                    </div>
                <div class="detail-pane" id="service-detail-pane">
                    </div>
            </div>
        </div>

        <div class="tab-content" id="culinary" hidden>
            <div class="card bg-light">
                <div class="card-body">
                    <h3 class="text-muted">Future Sub-Panel: Culinary &amp; Gourmet</h3>
                    <p class="text-muted">This panel will contain all doctrines related to the Bureau of Gourmet, including supply chain purity, ACEM scores for chefs, and the "Guest-as-Auditor" mandate.</p>
                </div>
            </div>
        </div>
        </main>
    
    <footer class="site-footer">
        <p>Ghuraba Al Manara (The Lighthouse) | Bureau of Efficiency Doctrine</p>
    </footer>

    <script>
        // --- 1. The Doctrine Data ---
        const CORE_DOCTRINES = [
            {
                id: 'comp',
                title: 'ACEM Score & Compensation',
                summary: 'ACEM Score is the sole trigger for pay raises.',
                doctrine: 'The **ACEM Score** is the **sole trigger** for **Step Payments** (pay raises). Training and assessment via the **T&D Gateway** directly impact compensation, guaranteeing the Specialistâ€™s financial ascent is immune to subjective managerial judgment and tied only to measurable competence.'
            },
            {
                id: 'manpower',
                title: 'T&D Gateway & Manpower Planning',
                summary: 'Using ACEM data to forecast resource needs.',
                doctrine: 'Operations utilizes the **ACEM Score** data from the **T&D Gateway** to forecast resource needs (**Permanent Power Planning**). This ensures the correct level of Specialist (Trainee, Foundational, Universalist) is always available and competent for execution.'
            },
            {
                id: 'promo',
                title: 'T&D & Promotions/Mobility',
                summary: 'Zero-Risk Growth and promotion to Universalist.',
                doctrine: 'Promotion (e.g., to **Universalist**) is based on ACEM compliance. **Zero-Risk Mobility** (inter-departmental rotation) is facilitated by Operations based on the Specialist\'s ACEM-verified multi-disciplinary competence, protecting the Specialist\'s pay during rotation.'
            },
            {
                id: 'delegate',
                title: 'The Dignified Delegation Mandate',
                summary: 'Protecting MBA/BBA time from menial tasks.',
                doctrine: '**MBA/BBA Specialists** are reserved for strategic **Producer** and **Innovator** tasks. Administrative duties (filing, forms) are codified as the duty of the **Trainee/Foundational Specialist** receiving the **Dignity Wage**. This prevents the exploitation of talent.'
            }
        ];

        const SERVICE_DOCTRINES = [
            {
                id: 'room',
                title: 'Role Dignification: Room Coordinator',
                summary: 'Dignified title for housekeeping staff.',
                doctrine: 'The dignified title for housekeeping staff. They are **"coordinators"** of the guest\'s personal sanctuary, trained in the **"Iyashi (Soothing) Policy."** Their ACEM is based on measurable guest satisfaction and adherence to the Dignity Mandate.'
            },
            {
                id: 'training',
                title: 'Operational Training Sources',
                summary: 'Using world-class standards for training.',
                doctrine: 'Training for all **Foundational Specialist** roles must be sourced from **world-class, practical standards**. Key references include **"Clean My Space" by Melissa Maker** for efficiency, and lessons from **"The Hotel Inspector"** for service protocol and moral accountability.'
            },
            {
                id: 'sales',
                title: 'Rejection of Sales Targets',
                summary: 'Moral Marketing Mandate: No sales targets.',
                doctrine: 'Operations will **never** be driven by individual sales targets, which breed moral corruption and aggression. Customer acquisition is handled by the **Marketing/CPM Bureau**. Operations focuses solely on **service quality and execution purity**.'
            },
            {
                id: 'landscape',
                title: 'Role Dignification: Landscaper',
                summary: 'Dignified title for estate and grounds crew.',
                doctrine: 'The dignified title for estate and grounds crew. They are the **custodians of the "Riverine Seclusion"** and are responsible for the aesthetic beauty and safety of the environment. Their ACEM tracks proactive maintenance.'
            }
        ];

        // --- 2. Reusable Interactive Panel Function ---
        function createInteractivePanel(containerId, detailPaneId, doctrines) {
            const cardContainer = document.getElementById(containerId);
            const detailPane = document.getElementById(detailPaneId);

            if (!cardContainer || !detailPane) return; // Safety check

            function showDetails(doctrine) {
                detailPane.innerHTML = `
                    <h3>${doctrine.title}</h3>
                    <p>${doctrine.doctrine.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</p>
                    <p class="small text-muted mt-2">This operational doctrine is non-negotiable.</p>
                `;
                
                // Highlight the active card within this section
                const activeCard = cardContainer.querySelector('.card.active');
                if (activeCard) activeCard.classList.remove('active');
                
                document.getElementById(`card-${doctrine.id}`).classList.add('active');
            }

            function createCards() {
                // Clear container in case it's re-initialized (good practice)
                cardContainer.innerHTML = '';
                
                doctrines.forEach(doctrine => {
                    const card = document.createElement('div');
                    card.className = 'card'; // Uses your master CSS class
                    card.id = `card-${doctrine.id}`;
                    
                    card.onclick = () => showDetails(doctrine);
                    
                    card.innerHTML = `
                        <div class="card-body">
                            <h3>${doctrine.title}</h3>
                            <p class="small text-muted">${doctrine.summary}</p>
                        </div>
                    `;
                    cardContainer.appendChild(card);
                });
            }
            
            createCards();
            // Show the first doctrine by default
            if (doctrines.length > 0) {
                showDetails(doctrines[0]);
            }
        }

        // --- 3. Run the code when the page loads ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- A. Initialize the Interactive Panels ---
            createInteractivePanel('core-card-container', 'core-detail-pane', CORE_DOCTRINES);
            createInteractivePanel('service-card-container', 'service-detail-pane', SERVICE_DOCTRINES);
            // Note: Culinary panel will be initialized here when its data is ready

            // --- B. Initialize the NEW Tab Navigation ---
            const tabButtons = document.querySelectorAll('.tab-bar button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab; // e.g., 'core'

                    // Hide all content panels
                    tabContents.forEach(content => content.hidden = true);
                    // Remove 'active' class from all buttons
                    tabButtons.forEach(btn => btn.classList.remove('active'));

                    // Show the target content panel
                    document.getElementById(targetTab).hidden = false;
                    // Add 'active' class to the clicked button
                    button.classList.add('active');
                });
            });
            
            // Note: The first tab is already set to active in the HTML
        });

    </script>

</body>
</html>
